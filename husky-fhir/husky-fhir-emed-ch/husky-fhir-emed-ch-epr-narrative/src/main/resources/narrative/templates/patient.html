<!--/*
  ~ This code is made available under the terms of the Eclipse Public License v1.0
  ~ in the github project https://github.com/project-husky/husky there you also
  ~ find a list of the contributors and the license information.
  ~
  ~ This project has been developed further and modified by the joined working group Husky
  ~ on the basis of the eHealth Connector opensource project from June 28, 2021,
  ~ whereas medshare GmbH is the initial and main contributor/author of the eHealth Connector.
  */-->

<th:block th:fragment="display-name-address-contact(patient, lang)">
    <th:block th:if="${patient.hasName()}">
        <th:block th:include="~{datatypes :: human-name(${patient.name[0]}, ${lang})}"/>
        <br/>
    </th:block>
    <th:block th:if="${patient.hasBirthDateElement()}" th:text="${patient.getBirthDateElement().getValueAsString()}"/>
</th:block>

<th:block th:fragment="patient-birth-date(birthDateElement, lang)">
    <th:block th:switch="${birthDateElement.getPrecision().getName()}" th:with="value = ${birthDateElement.getValueAsString()}">
        <th:block th:case="'DAY'" th:text="${value.substring(8,10)} + '/' + ${value.substring(5,7)} + '/' + ${value.substring(0,4)}"/>
        <th:block th:case="'MONTH'" th:text="${value.substring(5,7)} + '/' + ${value.substring(0,4)}"/>
        <th:block th:case="'YEAR'" th:text="${value}"/>
    </th:block>
</th:block>
